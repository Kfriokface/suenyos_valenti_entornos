<h2 class="mb-4 text-center">Sesiones espirituales</h2>

<div class="row g-4">

  <!-- CARDS DE SESIONES -->
  <% sesiones.forEach(s => { %>
    <div class="col-md-6 col-lg-4">
      <div class="card h-100">

        <div class="card-body d-flex flex-column">
          <h5 class="card-title mb-3">
            <i class="bi bi-cloud-moon"></i>
            <%= s.nombre %>
          </h5>

          <p class="card-text text-muted">
            <%= s.descripcion %>
          </p>

          <div class="mt-auto">
            <form method="POST" action="/carrito/agregar">
              <input type="hidden" name="sesion" value="<%= s.nombre %>">
              <button class="btn btn-primary btn-sm w-100">
                AÃ±adir al carrito
              </button>
            </form>
          </div>
        </div>

      </div>
    </div>
  <% }) %>
</div>

<!-- CARRITO DE SESIONES -->
<div class="row g-4 mt-3 w-100">
  <div class="col-12 p-0">

    <div class="card">
      <div class="card-body">

        <h5 class="card-title mb-3">
          <i class="bi bi-bag"></i>
          Carrito espiritual
        </h5>

        <% if (carrito.length === 0) { %>
          <p class="text-muted">No hay sesiones en el carrito.</p>
        <% } else { %>
          <ul class="list-group mb-3">
            <% carrito.forEach(c => { %>
              <li class="list-group-item"><%= c %></li>
            <% }) %>
          </ul>

          <form method="POST" action="/carrito/vaciar">
            <button class="btn btn-outline-danger btn-sm">
              Vaciar carrito
            </button>
          </form>
        <% } %>

      </div>
    </div>

  </div>
</div>
